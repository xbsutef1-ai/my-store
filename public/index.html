<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>GLOM Store</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="/theme.css">
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

<!-- ================= TOP BAR ================= -->
<header class="topbar">
  <div class="brand">GLOM <span>Store</span></div>

  <div class="top-actions">
    <div id="userBox"></div>

    <button class="burger icon-btn" onclick="toggleMenu()">
      <i></i><i></i><i></i>
    </button>
  </div>
</header>

<!-- ================= SIDE MENU ================= -->
<aside id="sideMenu" class="sideMenu">
  <div class="sideHead">
    <div class="sideTitle">القوائم</div>
    <button class="icon-btn" onclick="toggleMenu()">
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>

  <div id="categories" class="cats">
    <!-- categories injected by JS -->
  </div>
</aside>

<!-- ================= MAIN ================= -->
<main class="main">
  <div class="hint">إذا ما اخترت قائمة ➜ تظهر كل المنتجات</div>
  <section id="products" class="grid"></section>
</main>

<!-- ================= CHECKOUT ================= -->
<div id="checkoutModal" class="modal hidden">
  <div class="modalBox">
    <div class="modalHead">
      <div class="modalTitle">Checkout</div>
      <button class="icon-btn" onclick="closeModal('checkoutModal')">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <div class="coRow">
      <div class="coLabel">المنتج</div>
      <div class="coVal" id="coProduct"></div>
    </div>

    <div class="coRow">
      <div class="coLabel">الفترة</div>
      <select id="coPlan"></select>
    </div>

    <div class="coRow">
      <div class="coLabel">المتوفر</div>
      <div class="coVal" id="coStock"></div>
    </div>

    <div class="coRow">
      <div class="coLabel">السعر</div>
      <div class="coVal" id="coPrice"></div>
    </div>

    <input id="coCoupon" class="inp" placeholder="كوبون خصم (اختياري)">

    <div class="totals">
      <div>الخصم: <b id="coDiscount">0</b></div>
      <div>الإجمالي: <b id="coFinal">0</b></div>
    </div>

    <button class="btn" onclick="createOrder()">إنشاء طلب</button>
  </div>
</div>

<!-- ================= PROOF ================= -->
<div id="proofModal" class="modal hidden">
  <div class="modalBox">
    <div class="modalHead">
      <div class="modalTitle">رفع إثبات التحويل</div>
      <button class="icon-btn" onclick="closeModal('proofModal')">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <div class="bankBox" id="bankBox"></div>

    <div class="coRow">
      <div class="coLabel">رقم الطلب</div>
      <div class="coVal" id="prOrder"></div>
    </div>

    <input id="prRef" class="inp" placeholder="رقم العملية / المرجع">
    <input id="prUrl" class="inp" placeholder="رابط صورة الإثبات">

    <button class="btn" onclick="sendProof()">إرسال الإثبات</button>
    <div class="small" id="prMsg"></div>
  </div>
</div>

<!-- ================= AUTH ================= -->
<div id="authModal" class="modal hidden">
  <div class="modalBox authBox">
    <div class="modalHead">
      <div class="modalTitle" id="authTitle">تسجيل الدخول</div>
      <button class="icon-btn" onclick="closeModal('authModal')">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <input id="rgName" class="inp hidden" placeholder="اسم الحساب">
    <input id="rgEmail" class="inp" placeholder="البريد الإلكتروني">
    <input id="rgPass" class="inp" type="password" placeholder="كلمة المرور">

    <button class="btn" id="authSubmit">دخول</button>

    <div class="switchRow">
      <span id="authSwitchText">ما عندك حساب؟</span>
      <button class="linkBtn" onclick="switchAuth()">إنشاء حساب</button>
    </div>
  </div>
</div>

<!-- ================= VERIFY ================= -->
<div id="verifyModal" class="modal hidden">
  <div class="modalBox authBox">
    <div class="modalHead">
      <div class="modalTitle">Verify Email</div>
      <button class="icon-btn" onclick="closeModal('verifyModal')">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <div class="small">أدخل رمز التحقق المرسل إلى بريدك</div>
    <input id="vfCode" class="inp" placeholder="6-digit code">

    <button class="btn" onclick="verifyAccount()">تأكيد</button>
    <button class="btn ghost" onclick="resendCode()">إعادة إرسال الرمز</button>

    <div class="small" id="vfMsg"></div>
  </div>
</div>

<!-- ================= SCRIPTS ================= -->
<script src="/store.js"></script>
<script>
  function toggleMenu(){
    document.getElementById("sideMenu").classList.toggle("show");
  }
  function closeModal(id){
    document.getElementById(id).classList.add("hidden");
  }
</script>

</body>
</html>
